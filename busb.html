<!DOCTYPE html>
<html lang="zh-HK">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>å¯¦æ™‚å·´å£«è¿½è¹¤ï¼ˆ2B / 701Aï¼‰</title>
<style>
html, body {
margin: 0;
padding: 0;
height: 100%;
font-family: sans-serif;
}
#map {
height: 60%;
width: 100%;
}
#info {
padding: 10px;
font-size: 1.1em;
}
#eta-list {
list-style: none;
padding: 0;
}
li {
margin-bottom: 8px;
}
@media (max-width: 600px) {
#info {
font-size: 1em;
}
}
</style>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCe2towtdCB_tiGtfXFQbdk9Kq63T3D2UU"></script>
</head>
<body>
<div id="map"></div>
<div id="info">
<h2>ğŸšŒ å·´å£«å¯¦æ™‚è¿½è¹¤ï¼š2B / 701A</h2>
<ul id="eta-list">
<li>è®€å–ä¸­...</li>
</ul>
</div>

<script>
const map = new google.maps.Map(document.getElementById("map"), {
zoom: 14,
center: { lat: 22.33, lng: 114.17 },
});

let marker = new google.maps.Marker({
position: { lat: 22.33, lng: 114.17 },
map,
icon: "https://maps.google.com/mapfiles/ms/icons/bus.png",
});

function speak(text) {
const utterance = new SpeechSynthesisUtterance(text);
utterance.lang = 'zh-HK';
speechSynthesis.speak(utterance);
}

async function updateETA() {
const stopList = document.getElementById("eta-list");
stopList.innerHTML = "";

// æ¨¡æ“¬æ•¸æ“šï¼ˆä½ æ—¥å¾Œå¯æ¥å…¥çœŸå¯¦ APIï¼‰
const simulatedStops = [
{ name: "æ·±æ°´åŸ—", eta: 2 },
{ name: "æ—ºè§’å¥¶è·¯è‡£è¡—", eta: 6 },
{ name: "æ²¹éº»åœ°", eta: 10 },
];

simulatedStops.forEach((stop) => {
const li = document.createElement("li");
li.textContent = `ğŸ“ ${stop.name}ï¼š${stop.eta} åˆ†é˜å¾Œåˆ°é”`;
stopList.appendChild(li);

if (stop.eta === 2) {
speak(`å·´å£«å³å°‡åˆ°é” ${stop.name}`);
}
});

// æ¨¡æ“¬ icon ç§»å‹•
const nextLat = 22.33 + Math.random() * 0.01;
const nextLng = 114.17 + Math.random() * 0.01;
marker.setPosition({ lat: nextLat, lng: nextLng });
map.panTo({ lat: nextLat, lng: nextLng });
}

setInterval(updateETA, 10000); // æ¯ 10 ç§’æ›´æ–°
updateETA();
</script>
</body>
</html>