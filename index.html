
<!DOCTYPE html>
<html lang="zh-HK">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>紅綠燈模擬（高德地圖整合）</title>
  <style>
    body { font-family: sans-serif; text-align: center; background-color: #f5f5f5; margin: 0; padding: 0; }
    h1 { margin: 20px 0; }
    #trafficLight { font-size: 5em; margin: 30px 0; }
    #map { width: 100%; height: 400px; margin-top: 20px; }
  </style>
</head>
<body>
  <h1>紅綠燈模擬（高德地圖整合）</h1>
  <div id="trafficLight">🔴</div>
  <div id="countdown">9</div>
  <div id="map"></div>

  <script src="https://webapi.amap.com/maps?v=2.0&key=36b5cc1b617af9a0df235ec9f11c447e"></script>
  <script>
    var count = 9;
    var light = 'red';
    var trafficLight = document.getElementById('trafficLight');
    var countdown = document.getElementById('countdown');

    setInterval(() => {
      count--;
      if (count <= 0) {
        light = light === 'red' ? 'green' : 'red';
        trafficLight.textContent = light === 'red' ? '🔴' : '🟢';
        count = 9;
      }
      countdown.textContent = count;
    }, 1000);

    var map = new AMap.Map("map", {
      resizeEnable: true,
      zoom: 17,
      center: [114.153, 22.336], // 荔枝角道
    });

    AMap.plugin('AMap.ControlBar', function () {
      var controlBar = new AMap.ControlBar();
      map.addControl(controlBar);
    });
  </script>
</body>
</html>
