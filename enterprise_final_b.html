<!DOCTYPE html>
<html lang="zh-HK">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>紅綠燈模擬（高德地圖整合）</title>
<style>
body {
font-family: Arial, sans-serif;
text-align: center;
margin: 0;
padding: 0;
}
h1 {
margin-top: 20px;
}
#light {
margin: 40px auto;
width: 100px;
height: 100px;
border-radius: 50%;
background-color: red;
transition: background-color 0.5s;
display: flex;
align-items: center;
justify-content: center;
font-size: 32px;
color: white;
}
#map {
height: 300px;
margin: 20px auto;
width: 90%;
}
</style>
</head>
<body>
<h1>紅綠燈模擬（高德地圖整合）</h1>
<div id="light">10</div>
<div id="map"></div>

<script src="https://webapi.amap.com/maps?v=2.0&key=c739c1ac829fc2acf00599662cca95f9"></script>
<script>
var map = new AMap.Map("map", {
center: [114.154334, 22.338091], // 荔枝角道
zoom: 17
});

let light = document.getElementById("light");
let isGreen = false;
let countdown = 10;

function updateLight() {
light.textContent = countdown;
light.style.backgroundColor = isGreen ? "green" : "red";
}

function simulateFromGaode() {
if (countdown > 0) {
countdown--;
updateLight();
} else {
isGreen = !isGreen;
countdown = isGreen ? 9 : 11;
updateLight();
}
}

setInterval(simulateFromGaode, 1000);
updateLight();
</script>
</body>
</html>