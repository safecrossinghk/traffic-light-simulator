<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<title>Outscraper äººæµæ¸¬è©¦</title>
</head>
<body>
<h2>Outscraper å³æ™‚äººæµè³‡æ–™æ¸¬è©¦</h2>
<button onclick="fetchPopularTimes()">å–å¾—é™„è¿‘äººæµ</button>
<pre id="result">ï¼ˆæŒ‰ä¸‹æŒ‰éˆ•ä»¥æŸ¥è©¢ï¼‰</pre>

<script>
async function fetchPopularTimes() {
const apiKey = "MWE3NWNmMzFjZWNiNGMxMDlhNGNhNDFjNTY3ZjZkMTB8NzY5ZGY0MGQ0Zg";
const url = "https://api.app.outscraper.com/maps/search-v2?query=7-11&lat=22.3188&lon=114.1798&limit=1&language=zh&region=hk";

try {
const response = await fetch(url, {
headers: {
"X-API-KEY": apiKey,
"Accept": "application/json"
}
});

const data = await response.json();
console.log(data);

const place = data.data?.[0];
if (place) {
let text = `åœ°é»ï¼š${place.name}\nåœ°å€ï¼š${place.address}\n\n`;
if (place.current_popularity !== undefined) {
text += `ç›®å‰å³æ™‚äººæµï¼š${place.current_popularity}`;
} else {
text += "âš ï¸ åƒ…æä¾›æ­·å²äººæµè³‡æ–™ï¼ˆcurrent_popularity ä¸å­˜åœ¨ï¼‰";
}
document.getElementById("result").textContent = text;
} else {
document.getElementById("result").textContent = "âš ï¸ ç„¡è³‡æ–™ï¼ˆdata.data ç‚ºç©ºï¼‰";
}
} catch (err) {
document.getElementById("result").textContent = "ğŸš« ç™¼ç”ŸéŒ¯èª¤ï¼š" + err;
}
}
</script>
</body>
</html>
